{
  "ReverseProxy": {
    "Routes": {
      "auth": {
        "Match": {
          "Path": "/Auth/v{version}/{**catchall}"
        },
        "ClusterId": "authCluster",
        "Transforms": [
          { "PathRemovePrefix": "/Auth" },
          {
            "RequestHeader": "Authorization",
            "Set": "{RequestHeader.Authorization}"
          },
          {
            "RequestHeader": "X-Custom-Header",
            "Set": "{RequestHeader.X-Custom-Header}"
          }
        ]
      },
      "routes": {
        "Match": {
          "Path": "/Routes/v{version}/{**catchall}"
        },
        "ClusterId": "routesCluster",
        "Transforms": [
          { "PathRemovePrefix": "/Routes" },
          {
            "RequestHeader": "Authorization",
            "Set": "{RequestHeader.Authorization}"
          },
          {
            "RequestHeader": "X-Custom-Header",
            "Set": "{RequestHeader.X-Custom-Header}"
          }
        ]
      },
      "payments": {
        "Match": {
          "Path": "/Payments/v{version}/{**catchall}"
        },
        "ClusterId": "paymentsCluster",
        "Transforms": [
          { "PathRemovePrefix": "/Payments" },
          {
            "RequestHeader": "Authorization",
            "Set": "{RequestHeader.Authorization}"
          },
          {
            "RequestHeader": "X-Custom-Header",
            "Set": "{RequestHeader.X-Custom-Header}"
          }
        ]
      },
      "pessoas": {
        "Match": {
          "Path": "/Pessoas/v{version}/{**catchall}"
        },
        "ClusterId": "pessoasCluster",
        "Transforms": [
          { "PathRemovePrefix": "/Pessoas" },
          {
            "RequestHeader": "Authorization",
            "Set": "{RequestHeader.Authorization}"
          },
          {
            "RequestHeader": "X-Custom-Header",
            "Set": "{RequestHeader.X-Custom-Header}"
          }
        ]
      }
    },
    "Clusters": {
      "authCluster": {
        "Destinations": {
          "auth": {
            "Address": "http://auth-api:8080/"
          }
        }
      },
      "routesCluster": {
        "Destinations": {
          "routes": {
            "Address": "http://router-api:8080/"
          }
        }
      },
      "paymentsCluster": {
        "Destinations": {
          "payments": {
            "Address": "http://payments-api:8080/"
          }
        }
      },
      "pessoasCluster": {
        "Destinations": {
          "pessoas": {
            "Address": "http://pessoas-api:8080/"
          }
        }
      }
    }
  }
}
